else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo)>=horizonte
{resultado<-c(resultado,cor(sulfate,nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo>=horizonte)
{resultado<-c(resultado,cor(sulfate,nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo>=horizonte)
{resultado<-c(resultado,cor(j[sulfate],[nitrate]))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo>=horizonte)
{resultado<-c(resultado,cor(data1[,2:3][casoscompletos,][sulfate],data1[,2:3][casoscompletos,][nitrate]))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo>=horizonte)
{}
else
{resultado=0}
}
j
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo>=horizonte)
{}
else
{resultado=0}
}
j
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data1[,2:3][casoscompletos,]
if(completo>=horizonte)
{}
else
{resultado=0}
}
j$sulfate
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{}
else
{resultado=0}
}
j$sulfate
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{}
else
{resultado=0}
}
j
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j[sulfate],j[nitrate]))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{}
else
{resultado=0}
}
j
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{}
else
{resultado=0}
}
j$nitrate
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
?length
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate,use = "na.or.complete"))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- data.frame(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
#Para obtener el coeficiente de correlación entre estas variables pueden ocupar la función cor().
#cor(estudio2012$ansev, estudio2012$insom,use = "pairwise.complete.obs" # necesario cuando hay NAs)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1:322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1:322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1:322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
corr <- function(directorio, horizonte=0){
correlacion <- vector("numeric",0)
conta <- 1
for (j in 1:332){
id2<-formatC(j,width = 3 ,flag = "0")
readen <- read.csv(paste(id2, ".csv",sep=""),header = T)
midata <- data.frame(readen$sulfate,readen$nitrate)
completo <- midata[complete.cases(midata),]
n <- nrow(completo)
if (n>horizonte){
length(correlacion) <- length(correlacion)+1
correlacion[conta] <- cor(completo[,1],completo[,2])
conta <- conta + 1
}
}
correlacion
}
final <- corr("specdata", 150)
head(final)
corr <- function(directorio, horizonte=0){
correlacion <- vector("numeric",0)
conta <- 1
for (j in 1:332){
id2<-formatC(j,width = 3 ,flag = "0")
readen <- read.csv(paste(id2, ".csv",sep=""),header = T)
midata <- data.frame(readen$sulfate,readen$nitrate)
completo <- midata[complete.cases(midata),]
n <- nrow(completo)
if (n>horizonte){
length(correlacion) <- length(correlacion)+1
correlacion[conta] <- cor(completo[,1],completo[,2])
conta <- conta + 1
}
}
correlacion
}
final <- corr("specdata", 0)
head(final)
corr <- function(directorio="~/specdata/", horizonte=0) {
dato <- Completos()
kor <- dato[dato["nobs"] > horizonte,]$id
dato1 <- numeric()
for (i in kor) {
n <- read.csv(paste(directorio,"/", formatC(i, width = 3, flag = "0"),".csv", sep = ""))
hijo<- n[complete.cases(n),]
dato1 <- c(dato1 ,cor(hijo$sulfate,hijo$nitrate))
}
dato1
}
corr("specdata",0)
corr <- function(directorio, horizonte = 0) {
source("completos.R")
gu <- completos(directorio)
ids <- gu[gu["nobs"] > horizonte, ]$id
corr2 <- numeric()
for(i in ids) {
dirFinal <- read.csv(paste(directorio, "/", formatC(i, width = 3, flag = "0"),
".csv", sep = "")) #ejemplo: specdata/001.csv
ce<- dirFinal[complete.cases(dirFinal), ] #casos completos del dirFinal
corr2 <- c(corr2, cor(ce$sulfate, ce$nitrate)) #Vector de correlacion
}
return(corr2) #regresa el vector de correlacion
}
cr <- corr("specdata", 1)
cr
head(corr("specdata",400))
cor("specdata",0)
corr<-function(directorio,horizonte=0){
setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
resultado<-numeric()
completo<-integer()
for(n in 1:322){
data1 <- read.csv(paste(formatC(n,width = 3, flag = "0"), ".Csv",sep = ""), header = T)
completo<-c(sum(complete.cases(data1[,2:3])))
columnas <- data1[,2:3]
casoscompletos<-complete.cases(columnas)
j <- c(data1[,2:3][casoscompletos,])
if(completo>=horizonte)
{resultado<-c(resultado,cor(j$sulfate,j$nitrate))}
else
{resultado=0}
}
resultado
}
corr("specdata",0)
